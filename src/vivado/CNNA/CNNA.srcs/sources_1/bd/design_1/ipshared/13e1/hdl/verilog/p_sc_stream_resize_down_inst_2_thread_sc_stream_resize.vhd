-- ==============================================================
-- RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC
-- Version: 2019.1
-- Copyright (C) 1986-2019 Xilinx, Inc. All Rights Reserved.
-- 
-- ===========================================================

library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity p_sc_stream_resize_down_inst_2_thread_sc_stream_resize is
port (
    ap_clk : IN STD_LOGIC;
    ap_rst : IN STD_LOGIC;
    din_0_dout : IN STD_LOGIC_VECTOR (255 downto 0);
    din_0_empty_n : IN STD_LOGIC;
    din_0_read : OUT STD_LOGIC;
    din_1_dout : IN STD_LOGIC_VECTOR (0 downto 0);
    din_1_empty_n : IN STD_LOGIC;
    din_1_read : OUT STD_LOGIC;
    din_2_dout : IN STD_LOGIC_VECTOR (31 downto 0);
    din_2_empty_n : IN STD_LOGIC;
    din_2_read : OUT STD_LOGIC;
    dout_0_din : OUT STD_LOGIC_VECTOR (63 downto 0);
    dout_0_full_n : IN STD_LOGIC;
    dout_0_write : OUT STD_LOGIC;
    dout_1_din : OUT STD_LOGIC_VECTOR (0 downto 0);
    dout_1_full_n : IN STD_LOGIC;
    dout_1_write : OUT STD_LOGIC;
    dout_2_din : OUT STD_LOGIC_VECTOR (7 downto 0);
    dout_2_full_n : IN STD_LOGIC;
    dout_2_write : OUT STD_LOGIC );
end;


architecture behav of p_sc_stream_resize_down_inst_2_thread_sc_stream_resize is 
    constant ap_const_logic_1 : STD_LOGIC := '1';
    constant ap_const_logic_0 : STD_LOGIC := '0';
    constant ap_ST_fsm_state2 : STD_LOGIC_VECTOR (2 downto 0) := "010";
    constant ap_ST_fsm_state3 : STD_LOGIC_VECTOR (2 downto 0) := "100";
    constant ap_const_boolean_1 : BOOLEAN := true;
    constant ap_const_lv32_1 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000001";
    constant ap_const_lv1_1 : STD_LOGIC_VECTOR (0 downto 0) := "1";
    constant ap_const_lv32_2 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000010";
    constant ap_const_lv1_0 : STD_LOGIC_VECTOR (0 downto 0) := "0";
    constant ap_const_lv3_0 : STD_LOGIC_VECTOR (2 downto 0) := "000";
    constant ap_const_lv64_0 : STD_LOGIC_VECTOR (63 downto 0) := "0000000000000000000000000000000000000000000000000000000000000000";
    constant ap_const_lv8_0 : STD_LOGIC_VECTOR (7 downto 0) := "00000000";
    constant ap_const_lv32_1F : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000011111";
    constant ap_const_lv30_0 : STD_LOGIC_VECTOR (29 downto 0) := "000000000000000000000000000000";
    constant ap_const_lv32_0 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000000000000";
    constant ap_const_lv3_4 : STD_LOGIC_VECTOR (2 downto 0) := "100";
    constant ap_const_lv3_1 : STD_LOGIC_VECTOR (2 downto 0) := "001";
    constant ap_const_lv6_0 : STD_LOGIC_VECTOR (5 downto 0) := "000000";
    constant ap_const_lv8_3F : STD_LOGIC_VECTOR (7 downto 0) := "00111111";
    constant ap_const_lv32_FF : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000011111111";
    constant ap_const_lv9_FF : STD_LOGIC_VECTOR (8 downto 0) := "011111111";
    constant ap_const_lv256_lc_3 : STD_LOGIC_VECTOR (255 downto 0) := "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111";
    constant ap_const_lv5_7 : STD_LOGIC_VECTOR (4 downto 0) := "00111";
    constant ap_const_lv6_1F : STD_LOGIC_VECTOR (5 downto 0) := "011111";
    constant ap_const_lv32_FFFFFFFF : STD_LOGIC_VECTOR (31 downto 0) := "11111111111111111111111111111111";
    constant ap_const_lv3_3 : STD_LOGIC_VECTOR (2 downto 0) := "011";

    signal dout_0_blk_n : STD_LOGIC;
    signal ap_CS_fsm : STD_LOGIC_VECTOR (2 downto 0) := "010";
    attribute fsm_encoding : string;
    attribute fsm_encoding of ap_CS_fsm : signal is "none";
    signal ap_CS_fsm_state2 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state2 : signal is "none";
    signal tmpV_tlast_V_fu_159_p1 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln54_fu_189_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_CS_fsm_state3 : STD_LOGIC;
    attribute fsm_encoding of ap_CS_fsm_state3 : signal is "none";
    signal p_emptyn_5_reg_453 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln54_reg_474 : STD_LOGIC_VECTOR (0 downto 0);
    signal icmp_ln61_fu_195_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmpV_tlast_V_reg_463 : STD_LOGIC_VECTOR (0 downto 0);
    signal dout_1_blk_n : STD_LOGIC;
    signal dout_2_blk_n : STD_LOGIC;
    signal io_acc_block_signal_op39 : STD_LOGIC;
    signal ap_predicate_op39_write_state2 : BOOLEAN;
    signal ap_block_state2 : BOOLEAN;
    signal tmpV_data_V_reg_457 : STD_LOGIC_VECTOR (255 downto 0);
    signal tmpV_tkeep_V_reg_468 : STD_LOGIC_VECTOR (31 downto 0);
    signal i_fu_201_p2 : STD_LOGIC_VECTOR (2 downto 0);
    signal io_acc_block_signal_op87 : STD_LOGIC;
    signal ap_predicate_op87_write_state3 : BOOLEAN;
    signal ap_block_state3 : BOOLEAN;
    signal index_assign_reg_140 : STD_LOGIC_VECTOR (2 downto 0);
    signal p_emptyn_nbread_fu_114_p4_0 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_out_data_V_fu_321_p1 : STD_LOGIC_VECTOR (63 downto 0);
    signal tmp_out_tlast_V_fu_447_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal tmp_out_tkeep_V_fu_436_p1 : STD_LOGIC_VECTOR (7 downto 0);
    signal tmp_18_fu_167_p3 : STD_LOGIC_VECTOR (0 downto 0);
    signal trunc_ln54_fu_175_p1 : STD_LOGIC_VECTOR (0 downto 0);
    signal and_ln_fu_179_p4 : STD_LOGIC_VECTOR (31 downto 0);
    signal trunc_ln308_fu_207_p1 : STD_LOGIC_VECTOR (1 downto 0);
    signal Lo_assign_fu_211_p3 : STD_LOGIC_VECTOR (7 downto 0);
    signal or_ln308_fu_219_p2 : STD_LOGIC_VECTOR (7 downto 0);
    signal zext_ln647_fu_231_p1 : STD_LOGIC_VECTOR (8 downto 0);
    signal zext_ln647_2_fu_235_p1 : STD_LOGIC_VECTOR (8 downto 0);
    signal icmp_ln647_fu_225_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal sub_ln647_fu_248_p2 : STD_LOGIC_VECTOR (8 downto 0);
    signal sub_ln647_2_fu_260_p2 : STD_LOGIC_VECTOR (8 downto 0);
    signal tmp_19_fu_239_p4 : STD_LOGIC_VECTOR (255 downto 0);
    signal xor_ln647_fu_254_p2 : STD_LOGIC_VECTOR (8 downto 0);
    signal select_ln647_fu_266_p3 : STD_LOGIC_VECTOR (8 downto 0);
    signal select_ln647_2_fu_281_p3 : STD_LOGIC_VECTOR (8 downto 0);
    signal sub_ln647_3_fu_289_p2 : STD_LOGIC_VECTOR (8 downto 0);
    signal select_ln647_1_fu_274_p3 : STD_LOGIC_VECTOR (255 downto 0);
    signal zext_ln647_3_fu_295_p1 : STD_LOGIC_VECTOR (255 downto 0);
    signal zext_ln647_4_fu_299_p1 : STD_LOGIC_VECTOR (255 downto 0);
    signal lshr_ln647_fu_303_p2 : STD_LOGIC_VECTOR (255 downto 0);
    signal lshr_ln647_1_fu_309_p2 : STD_LOGIC_VECTOR (255 downto 0);
    signal p_Result_s_fu_315_p2 : STD_LOGIC_VECTOR (255 downto 0);
    signal Lo_assign_4_fu_326_p3 : STD_LOGIC_VECTOR (4 downto 0);
    signal or_ln64_fu_334_p2 : STD_LOGIC_VECTOR (4 downto 0);
    signal zext_ln647_5_fu_346_p1 : STD_LOGIC_VECTOR (5 downto 0);
    signal zext_ln647_6_fu_350_p1 : STD_LOGIC_VECTOR (5 downto 0);
    signal icmp_ln647_1_fu_340_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal sub_ln647_4_fu_363_p2 : STD_LOGIC_VECTOR (5 downto 0);
    signal sub_ln647_5_fu_375_p2 : STD_LOGIC_VECTOR (5 downto 0);
    signal tmp_20_fu_354_p4 : STD_LOGIC_VECTOR (31 downto 0);
    signal xor_ln647_1_fu_369_p2 : STD_LOGIC_VECTOR (5 downto 0);
    signal select_ln647_3_fu_381_p3 : STD_LOGIC_VECTOR (5 downto 0);
    signal select_ln647_5_fu_396_p3 : STD_LOGIC_VECTOR (5 downto 0);
    signal sub_ln647_6_fu_404_p2 : STD_LOGIC_VECTOR (5 downto 0);
    signal select_ln647_4_fu_389_p3 : STD_LOGIC_VECTOR (31 downto 0);
    signal zext_ln647_7_fu_410_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal zext_ln647_8_fu_414_p1 : STD_LOGIC_VECTOR (31 downto 0);
    signal lshr_ln647_2_fu_418_p2 : STD_LOGIC_VECTOR (31 downto 0);
    signal lshr_ln647_3_fu_424_p2 : STD_LOGIC_VECTOR (31 downto 0);
    signal p_Result_17_fu_430_p2 : STD_LOGIC_VECTOR (31 downto 0);
    signal icmp_ln65_fu_441_p2 : STD_LOGIC_VECTOR (0 downto 0);
    signal ap_NS_fsm : STD_LOGIC_VECTOR (2 downto 0);


begin




    ap_CS_fsm_assign_proc : process(ap_clk)
    begin
        if (ap_clk'event and ap_clk =  '1') then
            if (ap_rst = '1') then
                ap_CS_fsm <= ap_ST_fsm_state2;
            else
                ap_CS_fsm <= ap_NS_fsm;
            end if;
        end if;
    end process;


    index_assign_reg_140_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state3) and (((tmpV_tlast_V_reg_463 = ap_const_lv1_0) and (icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)) or ((icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (icmp_ln54_reg_474 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1))))) then 
                index_assign_reg_140 <= i_fu_201_p2;
            elsif ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state2) and (((tmpV_tlast_V_fu_159_p1 = ap_const_lv1_0) and (p_emptyn_nbread_fu_114_p4_0 = ap_const_lv1_1)) or ((icmp_ln54_fu_189_p2 = ap_const_lv1_0) and (p_emptyn_nbread_fu_114_p4_0 = ap_const_lv1_1))))) then 
                index_assign_reg_140 <= ap_const_lv3_0;
            end if; 
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (din_1_dout = ap_const_lv1_1) and (p_emptyn_nbread_fu_114_p4_0 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then
                icmp_ln54_reg_474 <= icmp_ln54_fu_189_p2;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state2))) then
                p_emptyn_5_reg_453 <= p_emptyn_nbread_fu_114_p4_0;
                tmpV_data_V_reg_457 <= din_0_dout;
                tmpV_tkeep_V_reg_468 <= din_2_dout;
                tmpV_tlast_V_reg_463 <= din_1_dout;
            end if;
        end if;
    end process;

    ap_NS_fsm_assign_proc : process (ap_CS_fsm, ap_CS_fsm_state2, ap_CS_fsm_state3, p_emptyn_5_reg_453, icmp_ln54_reg_474, icmp_ln61_fu_195_p2, tmpV_tlast_V_reg_463, io_acc_block_signal_op39, ap_predicate_op39_write_state2, io_acc_block_signal_op87, ap_predicate_op87_write_state3)
    begin
        case ap_CS_fsm is
            when ap_ST_fsm_state2 => 
                if ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state2))) then
                    ap_NS_fsm <= ap_ST_fsm_state3;
                else
                    ap_NS_fsm <= ap_ST_fsm_state2;
                end if;
            when ap_ST_fsm_state3 => 
                if ((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state3) and ((p_emptyn_5_reg_453 = ap_const_lv1_0) or ((icmp_ln61_fu_195_p2 = ap_const_lv1_1) or ((tmpV_tlast_V_reg_463 = ap_const_lv1_1) and (icmp_ln54_reg_474 = ap_const_lv1_1)))))) then
                    ap_NS_fsm <= ap_ST_fsm_state2;
                elsif ((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state3) and (((tmpV_tlast_V_reg_463 = ap_const_lv1_0) and (icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)) or ((icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (icmp_ln54_reg_474 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1))))) then
                    ap_NS_fsm <= ap_ST_fsm_state3;
                else
                    ap_NS_fsm <= ap_ST_fsm_state3;
                end if;
            when others =>  
                ap_NS_fsm <= "XXX";
        end case;
    end process;
    Lo_assign_4_fu_326_p3 <= (trunc_ln308_fu_207_p1 & ap_const_lv3_0);
    Lo_assign_fu_211_p3 <= (trunc_ln308_fu_207_p1 & ap_const_lv6_0);
    and_ln_fu_179_p4 <= ((tmp_18_fu_167_p3 & ap_const_lv30_0) & trunc_ln54_fu_175_p1);
    ap_CS_fsm_state2 <= ap_CS_fsm(1);
    ap_CS_fsm_state3 <= ap_CS_fsm(2);

    ap_block_state2_assign_proc : process(io_acc_block_signal_op39, ap_predicate_op39_write_state2)
    begin
                ap_block_state2 <= ((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0));
    end process;


    ap_block_state3_assign_proc : process(io_acc_block_signal_op87, ap_predicate_op87_write_state3)
    begin
                ap_block_state3 <= ((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0));
    end process;


    ap_predicate_op39_write_state2_assign_proc : process(din_1_dout, icmp_ln54_fu_189_p2, p_emptyn_nbread_fu_114_p4_0)
    begin
                ap_predicate_op39_write_state2 <= ((icmp_ln54_fu_189_p2 = ap_const_lv1_1) and (din_1_dout = ap_const_lv1_1) and (p_emptyn_nbread_fu_114_p4_0 = ap_const_lv1_1));
    end process;


    ap_predicate_op87_write_state3_assign_proc : process(p_emptyn_5_reg_453, icmp_ln54_reg_474, icmp_ln61_fu_195_p2, tmpV_tlast_V_reg_463)
    begin
                ap_predicate_op87_write_state3 <= (((tmpV_tlast_V_reg_463 = ap_const_lv1_0) and (icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)) or ((icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (icmp_ln54_reg_474 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)));
    end process;


    din_0_read_assign_proc : process(din_0_empty_n, din_1_empty_n, din_2_empty_n, ap_CS_fsm_state2, io_acc_block_signal_op39, ap_predicate_op39_write_state2)
    begin
        if ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state2) and ((din_2_empty_n and din_1_empty_n and din_0_empty_n) = ap_const_logic_1))) then 
            din_0_read <= ap_const_logic_1;
        else 
            din_0_read <= ap_const_logic_0;
        end if; 
    end process;


    din_1_read_assign_proc : process(din_0_empty_n, din_1_empty_n, din_2_empty_n, ap_CS_fsm_state2, io_acc_block_signal_op39, ap_predicate_op39_write_state2)
    begin
        if ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state2) and ((din_2_empty_n and din_1_empty_n and din_0_empty_n) = ap_const_logic_1))) then 
            din_1_read <= ap_const_logic_1;
        else 
            din_1_read <= ap_const_logic_0;
        end if; 
    end process;


    din_2_read_assign_proc : process(din_0_empty_n, din_1_empty_n, din_2_empty_n, ap_CS_fsm_state2, io_acc_block_signal_op39, ap_predicate_op39_write_state2)
    begin
        if ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_const_logic_1 = ap_CS_fsm_state2) and ((din_2_empty_n and din_1_empty_n and din_0_empty_n) = ap_const_logic_1))) then 
            din_2_read <= ap_const_logic_1;
        else 
            din_2_read <= ap_const_logic_0;
        end if; 
    end process;


    dout_0_blk_n_assign_proc : process(din_1_dout, dout_0_full_n, ap_CS_fsm_state2, icmp_ln54_fu_189_p2, ap_CS_fsm_state3, p_emptyn_5_reg_453, icmp_ln54_reg_474, icmp_ln61_fu_195_p2, tmpV_tlast_V_reg_463, p_emptyn_nbread_fu_114_p4_0)
    begin
        if ((((ap_const_logic_1 = ap_CS_fsm_state3) and (((tmpV_tlast_V_reg_463 = ap_const_lv1_0) and (icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)) or ((icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (icmp_ln54_reg_474 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)))) or ((icmp_ln54_fu_189_p2 = ap_const_lv1_1) and (din_1_dout = ap_const_lv1_1) and (p_emptyn_nbread_fu_114_p4_0 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2)))) then 
            dout_0_blk_n <= dout_0_full_n;
        else 
            dout_0_blk_n <= ap_const_logic_1;
        end if; 
    end process;


    dout_0_din_assign_proc : process(ap_CS_fsm_state2, ap_CS_fsm_state3, io_acc_block_signal_op39, ap_predicate_op39_write_state2, io_acc_block_signal_op87, ap_predicate_op87_write_state3, tmp_out_data_V_fu_321_p1)
    begin
        if ((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_predicate_op87_write_state3 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            dout_0_din <= tmp_out_data_V_fu_321_p1;
        elsif ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_predicate_op39_write_state2 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
            dout_0_din <= ap_const_lv64_0;
        else 
            dout_0_din <= "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";
        end if; 
    end process;


    dout_0_write_assign_proc : process(ap_CS_fsm_state2, ap_CS_fsm_state3, io_acc_block_signal_op39, ap_predicate_op39_write_state2, io_acc_block_signal_op87, ap_predicate_op87_write_state3)
    begin
        if (((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_predicate_op87_write_state3 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state3)) or (not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_predicate_op39_write_state2 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state2)))) then 
            dout_0_write <= ap_const_logic_1;
        else 
            dout_0_write <= ap_const_logic_0;
        end if; 
    end process;


    dout_1_blk_n_assign_proc : process(din_1_dout, dout_1_full_n, ap_CS_fsm_state2, icmp_ln54_fu_189_p2, ap_CS_fsm_state3, p_emptyn_5_reg_453, icmp_ln54_reg_474, icmp_ln61_fu_195_p2, tmpV_tlast_V_reg_463, p_emptyn_nbread_fu_114_p4_0)
    begin
        if ((((ap_const_logic_1 = ap_CS_fsm_state3) and (((tmpV_tlast_V_reg_463 = ap_const_lv1_0) and (icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)) or ((icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (icmp_ln54_reg_474 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)))) or ((icmp_ln54_fu_189_p2 = ap_const_lv1_1) and (din_1_dout = ap_const_lv1_1) and (p_emptyn_nbread_fu_114_p4_0 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2)))) then 
            dout_1_blk_n <= dout_1_full_n;
        else 
            dout_1_blk_n <= ap_const_logic_1;
        end if; 
    end process;


    dout_1_din_assign_proc : process(ap_CS_fsm_state2, ap_CS_fsm_state3, io_acc_block_signal_op39, ap_predicate_op39_write_state2, io_acc_block_signal_op87, ap_predicate_op87_write_state3, tmp_out_tlast_V_fu_447_p2)
    begin
        if ((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_predicate_op87_write_state3 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            dout_1_din <= tmp_out_tlast_V_fu_447_p2;
        elsif ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_predicate_op39_write_state2 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
            dout_1_din <= ap_const_lv1_1;
        else 
            dout_1_din <= "X";
        end if; 
    end process;


    dout_1_write_assign_proc : process(ap_CS_fsm_state2, ap_CS_fsm_state3, io_acc_block_signal_op39, ap_predicate_op39_write_state2, io_acc_block_signal_op87, ap_predicate_op87_write_state3)
    begin
        if (((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_predicate_op87_write_state3 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state3)) or (not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_predicate_op39_write_state2 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state2)))) then 
            dout_1_write <= ap_const_logic_1;
        else 
            dout_1_write <= ap_const_logic_0;
        end if; 
    end process;


    dout_2_blk_n_assign_proc : process(din_1_dout, dout_2_full_n, ap_CS_fsm_state2, icmp_ln54_fu_189_p2, ap_CS_fsm_state3, p_emptyn_5_reg_453, icmp_ln54_reg_474, icmp_ln61_fu_195_p2, tmpV_tlast_V_reg_463, p_emptyn_nbread_fu_114_p4_0)
    begin
        if ((((ap_const_logic_1 = ap_CS_fsm_state3) and (((tmpV_tlast_V_reg_463 = ap_const_lv1_0) and (icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)) or ((icmp_ln61_fu_195_p2 = ap_const_lv1_0) and (icmp_ln54_reg_474 = ap_const_lv1_0) and (p_emptyn_5_reg_453 = ap_const_lv1_1)))) or ((icmp_ln54_fu_189_p2 = ap_const_lv1_1) and (din_1_dout = ap_const_lv1_1) and (p_emptyn_nbread_fu_114_p4_0 = ap_const_lv1_1) and (ap_const_logic_1 = ap_CS_fsm_state2)))) then 
            dout_2_blk_n <= dout_2_full_n;
        else 
            dout_2_blk_n <= ap_const_logic_1;
        end if; 
    end process;


    dout_2_din_assign_proc : process(ap_CS_fsm_state2, ap_CS_fsm_state3, io_acc_block_signal_op39, ap_predicate_op39_write_state2, io_acc_block_signal_op87, ap_predicate_op87_write_state3, tmp_out_tkeep_V_fu_436_p1)
    begin
        if ((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_predicate_op87_write_state3 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state3))) then 
            dout_2_din <= tmp_out_tkeep_V_fu_436_p1;
        elsif ((not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_predicate_op39_write_state2 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state2))) then 
            dout_2_din <= ap_const_lv8_0;
        else 
            dout_2_din <= "XXXXXXXX";
        end if; 
    end process;


    dout_2_write_assign_proc : process(ap_CS_fsm_state2, ap_CS_fsm_state3, io_acc_block_signal_op39, ap_predicate_op39_write_state2, io_acc_block_signal_op87, ap_predicate_op87_write_state3)
    begin
        if (((not(((ap_predicate_op87_write_state3 = ap_const_boolean_1) and (io_acc_block_signal_op87 = ap_const_logic_0))) and (ap_predicate_op87_write_state3 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state3)) or (not(((ap_predicate_op39_write_state2 = ap_const_boolean_1) and (io_acc_block_signal_op39 = ap_const_logic_0))) and (ap_predicate_op39_write_state2 = ap_const_boolean_1) and (ap_const_logic_1 = ap_CS_fsm_state2)))) then 
            dout_2_write <= ap_const_logic_1;
        else 
            dout_2_write <= ap_const_logic_0;
        end if; 
    end process;

    i_fu_201_p2 <= std_logic_vector(unsigned(index_assign_reg_140) + unsigned(ap_const_lv3_1));
    icmp_ln54_fu_189_p2 <= "1" when (and_ln_fu_179_p4 = ap_const_lv32_0) else "0";
    icmp_ln61_fu_195_p2 <= "1" when (index_assign_reg_140 = ap_const_lv3_4) else "0";
    icmp_ln647_1_fu_340_p2 <= "1" when (unsigned(Lo_assign_4_fu_326_p3) > unsigned(or_ln64_fu_334_p2)) else "0";
    icmp_ln647_fu_225_p2 <= "1" when (unsigned(Lo_assign_fu_211_p3) > unsigned(or_ln308_fu_219_p2)) else "0";
    icmp_ln65_fu_441_p2 <= "1" when (index_assign_reg_140 = ap_const_lv3_3) else "0";
    io_acc_block_signal_op39 <= (dout_2_full_n and dout_1_full_n and dout_0_full_n);
    io_acc_block_signal_op87 <= (dout_2_full_n and dout_1_full_n and dout_0_full_n);
    lshr_ln647_1_fu_309_p2 <= std_logic_vector(shift_right(unsigned(ap_const_lv256_lc_3),to_integer(unsigned('0' & zext_ln647_4_fu_299_p1(31-1 downto 0)))));
    lshr_ln647_2_fu_418_p2 <= std_logic_vector(shift_right(unsigned(select_ln647_4_fu_389_p3),to_integer(unsigned('0' & zext_ln647_7_fu_410_p1(31-1 downto 0)))));
    lshr_ln647_3_fu_424_p2 <= std_logic_vector(shift_right(unsigned(ap_const_lv32_FFFFFFFF),to_integer(unsigned('0' & zext_ln647_8_fu_414_p1(31-1 downto 0)))));
    lshr_ln647_fu_303_p2 <= std_logic_vector(shift_right(unsigned(select_ln647_1_fu_274_p3),to_integer(unsigned('0' & zext_ln647_3_fu_295_p1(31-1 downto 0)))));
    or_ln308_fu_219_p2 <= (ap_const_lv8_3F or Lo_assign_fu_211_p3);
    or_ln64_fu_334_p2 <= (ap_const_lv5_7 or Lo_assign_4_fu_326_p3);
    p_Result_17_fu_430_p2 <= (lshr_ln647_3_fu_424_p2 and lshr_ln647_2_fu_418_p2);
    p_Result_s_fu_315_p2 <= (lshr_ln647_fu_303_p2 and lshr_ln647_1_fu_309_p2);
    p_emptyn_nbread_fu_114_p4_0 <= (0=>(din_2_empty_n and din_1_empty_n and din_0_empty_n), others=>'-');
    select_ln647_1_fu_274_p3 <= 
        tmp_19_fu_239_p4 when (icmp_ln647_fu_225_p2(0) = '1') else 
        tmpV_data_V_reg_457;
    select_ln647_2_fu_281_p3 <= 
        xor_ln647_fu_254_p2 when (icmp_ln647_fu_225_p2(0) = '1') else 
        zext_ln647_fu_231_p1;
    select_ln647_3_fu_381_p3 <= 
        sub_ln647_4_fu_363_p2 when (icmp_ln647_1_fu_340_p2(0) = '1') else 
        sub_ln647_5_fu_375_p2;
    select_ln647_4_fu_389_p3 <= 
        tmp_20_fu_354_p4 when (icmp_ln647_1_fu_340_p2(0) = '1') else 
        tmpV_tkeep_V_reg_468;
    select_ln647_5_fu_396_p3 <= 
        xor_ln647_1_fu_369_p2 when (icmp_ln647_1_fu_340_p2(0) = '1') else 
        zext_ln647_5_fu_346_p1;
    select_ln647_fu_266_p3 <= 
        sub_ln647_fu_248_p2 when (icmp_ln647_fu_225_p2(0) = '1') else 
        sub_ln647_2_fu_260_p2;
    sub_ln647_2_fu_260_p2 <= std_logic_vector(unsigned(zext_ln647_2_fu_235_p1) - unsigned(zext_ln647_fu_231_p1));
    sub_ln647_3_fu_289_p2 <= std_logic_vector(unsigned(ap_const_lv9_FF) - unsigned(select_ln647_fu_266_p3));
    sub_ln647_4_fu_363_p2 <= std_logic_vector(unsigned(zext_ln647_5_fu_346_p1) - unsigned(zext_ln647_6_fu_350_p1));
    sub_ln647_5_fu_375_p2 <= std_logic_vector(unsigned(zext_ln647_6_fu_350_p1) - unsigned(zext_ln647_5_fu_346_p1));
    sub_ln647_6_fu_404_p2 <= std_logic_vector(unsigned(ap_const_lv6_1F) - unsigned(select_ln647_3_fu_381_p3));
    sub_ln647_fu_248_p2 <= std_logic_vector(unsigned(zext_ln647_fu_231_p1) - unsigned(zext_ln647_2_fu_235_p1));
    tmpV_tlast_V_fu_159_p1 <= din_1_dout;
    tmp_18_fu_167_p3 <= din_2_dout(31 downto 31);
    
    tmp_19_fu_239_p4_proc : process(tmpV_data_V_reg_457)
    variable vlo_cpy : STD_LOGIC_VECTOR(256+32 - 1 downto 0);
    variable vhi_cpy : STD_LOGIC_VECTOR(256+32 - 1 downto 0);
    variable v0_cpy : STD_LOGIC_VECTOR(256 - 1 downto 0);
    variable tmp_19_fu_239_p4_i : integer;
    variable section : STD_LOGIC_VECTOR(256 - 1 downto 0);
    variable tmp_mask : STD_LOGIC_VECTOR(256 - 1 downto 0);
    variable resvalue, res_value, res_mask : STD_LOGIC_VECTOR(256 - 1 downto 0);
    begin
        vlo_cpy := (others => '0');
        vlo_cpy(8 - 1 downto 0) := ap_const_lv32_FF(8 - 1 downto 0);
        vhi_cpy := (others => '0');
        vhi_cpy(8 - 1 downto 0) := ap_const_lv32_0(8 - 1 downto 0);
        v0_cpy := tmpV_data_V_reg_457;
        if (vlo_cpy(8 - 1 downto 0) > vhi_cpy(8 - 1 downto 0)) then
            vhi_cpy(8-1 downto 0) := std_logic_vector(256-1-unsigned(ap_const_lv32_0(8-1 downto 0)));
            vlo_cpy(8-1 downto 0) := std_logic_vector(256-1-unsigned(ap_const_lv32_FF(8-1 downto 0)));
            for tmp_19_fu_239_p4_i in 0 to 256-1 loop
                v0_cpy(tmp_19_fu_239_p4_i) := tmpV_data_V_reg_457(256-1-tmp_19_fu_239_p4_i);
            end loop;
        end if;
        res_value := std_logic_vector(shift_right(unsigned(v0_cpy), to_integer(unsigned('0' & vlo_cpy(8-1 downto 0)))));

        section := (others=>'0');
        section(8-1 downto 0) := std_logic_vector(unsigned(vhi_cpy(8-1 downto 0)) - unsigned(vlo_cpy(8-1 downto 0)));
        tmp_mask := (others => '1');
        res_mask := std_logic_vector(shift_left(unsigned(tmp_mask),to_integer(unsigned('0' & section(31-1 downto 0)))));
        res_mask := res_mask(256-2 downto 0) & '0';
        resvalue := res_value and not res_mask;
        tmp_19_fu_239_p4 <= resvalue(256-1 downto 0);
    end process;

    
    tmp_20_fu_354_p4_proc : process(tmpV_tkeep_V_reg_468)
    variable vlo_cpy : STD_LOGIC_VECTOR(32+32 - 1 downto 0);
    variable vhi_cpy : STD_LOGIC_VECTOR(32+32 - 1 downto 0);
    variable v0_cpy : STD_LOGIC_VECTOR(32 - 1 downto 0);
    variable tmp_20_fu_354_p4_i : integer;
    variable section : STD_LOGIC_VECTOR(32 - 1 downto 0);
    variable tmp_mask : STD_LOGIC_VECTOR(32 - 1 downto 0);
    variable resvalue, res_value, res_mask : STD_LOGIC_VECTOR(32 - 1 downto 0);
    begin
        vlo_cpy := (others => '0');
        vlo_cpy(5 - 1 downto 0) := ap_const_lv32_1F(5 - 1 downto 0);
        vhi_cpy := (others => '0');
        vhi_cpy(5 - 1 downto 0) := ap_const_lv32_0(5 - 1 downto 0);
        v0_cpy := tmpV_tkeep_V_reg_468;
        if (vlo_cpy(5 - 1 downto 0) > vhi_cpy(5 - 1 downto 0)) then
            vhi_cpy(5-1 downto 0) := std_logic_vector(32-1-unsigned(ap_const_lv32_0(5-1 downto 0)));
            vlo_cpy(5-1 downto 0) := std_logic_vector(32-1-unsigned(ap_const_lv32_1F(5-1 downto 0)));
            for tmp_20_fu_354_p4_i in 0 to 32-1 loop
                v0_cpy(tmp_20_fu_354_p4_i) := tmpV_tkeep_V_reg_468(32-1-tmp_20_fu_354_p4_i);
            end loop;
        end if;
        res_value := std_logic_vector(shift_right(unsigned(v0_cpy), to_integer(unsigned('0' & vlo_cpy(5-1 downto 0)))));

        section := (others=>'0');
        section(5-1 downto 0) := std_logic_vector(unsigned(vhi_cpy(5-1 downto 0)) - unsigned(vlo_cpy(5-1 downto 0)));
        tmp_mask := (others => '1');
        res_mask := std_logic_vector(shift_left(unsigned(tmp_mask),to_integer(unsigned('0' & section(31-1 downto 0)))));
        res_mask := res_mask(32-2 downto 0) & '0';
        resvalue := res_value and not res_mask;
        tmp_20_fu_354_p4 <= resvalue(32-1 downto 0);
    end process;

    tmp_out_data_V_fu_321_p1 <= p_Result_s_fu_315_p2(64 - 1 downto 0);
    tmp_out_tkeep_V_fu_436_p1 <= p_Result_17_fu_430_p2(8 - 1 downto 0);
    tmp_out_tlast_V_fu_447_p2 <= (tmpV_tlast_V_reg_463 and icmp_ln65_fu_441_p2);
    trunc_ln308_fu_207_p1 <= index_assign_reg_140(2 - 1 downto 0);
    trunc_ln54_fu_175_p1 <= din_2_dout(1 - 1 downto 0);
    xor_ln647_1_fu_369_p2 <= (zext_ln647_5_fu_346_p1 xor ap_const_lv6_1F);
    xor_ln647_fu_254_p2 <= (zext_ln647_fu_231_p1 xor ap_const_lv9_FF);
    zext_ln647_2_fu_235_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln308_fu_219_p2),9));
    zext_ln647_3_fu_295_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(select_ln647_2_fu_281_p3),256));
    zext_ln647_4_fu_299_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(sub_ln647_3_fu_289_p2),256));
    zext_ln647_5_fu_346_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(Lo_assign_4_fu_326_p3),6));
    zext_ln647_6_fu_350_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(or_ln64_fu_334_p2),6));
    zext_ln647_7_fu_410_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(select_ln647_5_fu_396_p3),32));
    zext_ln647_8_fu_414_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(sub_ln647_6_fu_404_p2),32));
    zext_ln647_fu_231_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(Lo_assign_fu_211_p3),9));
end behav;
